/*! Built with http://stenciljs.com */
const{h:e}=window.App;let n=1;function t(e,t){Object.assign(e,t),e.overlayId=n++;const i=e.ownerDocument;return(i.querySelector("ion-app")||i.body).appendChild(e),e.componentOnReady()}function i(e,n,t,i){i=i>=0?i:a(t);const o=t.get(i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")}function o(e){return e.get(a(e))}function a(e){let n=-1;return e.forEach((e,t)=>{t>n&&(n=t)}),n}function s(e){const n=o(e);return n?n.dismiss():Promise.resolve()}async function r(e,n,t,i,o){if(e.presented)return;e.presented=!0,e.willPresent.emit();const a=e.enterAnimation?e.enterAnimation:e.config.get(n,"ios"===e.mode?t:i);await d(e,a,e.el,o),e.didPresent.emit()}async function c(e,n,t,i,o,a,s){if(!e.presented)return;e.presented=!1,e.willDismiss.emit({data:n,role:t});const r=e.leaveAnimation?e.leaveAnimation:e.config.get(i,"ios"===e.mode?o:a);await d(e,r,e.el,s),e.didDismiss.emit({data:n,role:t}),e.el.remove()}async function d(e,n,t,i){if(e.keyboardClose){const e=t.ownerDocument.activeElement;e&&e.blur&&e.blur()}e.animation&&(e.animation.destroy(),e.animation=void 0);const o=t.shadowRoot||e.el,a=e.animation=await e.animationCtrl.create(n,o,i);e.animation=a,e.willAnimate||a.duration(0),await a.playAsync(),a.destroy(),e.animation=void 0}function m(e,n,t){let i;const o=new Promise(e=>i=e);return function(e,n,t){const i=o=>{e.removeEventListener(n,i),t(o)};e.addEventListener(n,i)}(e,n,e=>{const n=e.detail;t&&t(n),i(n)}),o}const l="backdrop";export{l as a,c as b,m as c,r as d,t as e,i as f,o as g,s as h};